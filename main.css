/* UTILITIES */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
    animation: none !important;
    scroll-behavior: auto !important;
  }
}

:root {
  /* Colors: modern gothic palette */
  --color-bg: #0d0d10;
  --color-bg-alt: #17121c;
  --color-text: #d9d9d9;
  --color-heading: #efeff1;
  --color-accent: #a31d2f;
  --color-border: #3a3342;

  /* Derived */
  --color-muted: color-mix(in srgb, var(--color-text) 65%, var(--color-bg));

  /* Gradients */
  --gradient-hero: linear-gradient(
    180deg,
    #0d0d10 0%,
    #17121c 60%,
    #0d0d10 100%
  );

  /* Spacing scale (4px base): 4, 8, 12, 16, 24, 32, 48, 64 */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-12: 3rem;
  --space-16: 4rem;

  /* Container widths */
  --container: 1100px;
  --container-narrow: 820px;

  /* Typography */
  --font-body: "Crimson Text", serif;
  --font-size-300: 1rem; /* base text */
  --font-size-400: 1.125rem; /* slightly larger text */
  --font-size-500: 1.25rem; /* h5/subhead */
  --font-size-600: 1.5rem; /* h4 */
  --font-size-700: 2rem; /* h3 */
  --font-size-800: 2.5rem; /* h2 */
  --font-size-900: 3rem; /* h1 (desktop) */
  --line-height: 1.5;

  /* Radius & shadows */
  --radius: 14px;
  --shadow-soft: 0 10px 30px rgba(0, 0, 0, 0.35);

  --brand-fb: #1877f2;
  --brand-gh: #c9d1d9;
  --brand-li: #0a66c2;
  --brand-mail: var(--color-accent);

  /* responsive sidebar width (48–72px) and a tiny gap */
  --sidebar-w: clamp(48px, 7vw, 72px);
  --sidebar-gap: 8px;
}

/* Single, consistent focus-visible */
:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 3px;
  border-radius: 6px;
  box-shadow: 0 0 0 3px rgba(163, 29, 47, 0.3);
}

img,
video,
iframe {
  max-width: 100%;
  height: auto;
}

html {
  scroll-behavior: smooth;
}

/* offset for anchor targets so content isn't hidden under the sticky navbar */
section {
  scroll-margin-top: clamp(80px, 12vh, 140px);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

body {
  margin: 0;
  font-family: var(--font-body);
  color: var(--color-text);
  background: var(--color-bg);
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  line-height: var(--line-height);
}

.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--color-accent);
  color: var(--color-heading);
  padding: var(--space-2) var(--space-4);
  z-index: 2000;
  transition: top 0.2s;
}
.skip-link:focus {
  top: 0;
}

/* Headings */
h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--color-heading);
  line-height: 1.2;
  margin-bottom: var(--space-4);
}
h1 {
  font-size: clamp(2rem, 4vw, var(--font-size-900));
}
h2 {
  font-size: clamp(1.75rem, 3.2vw, var(--font-size-800));
}
h3 {
  font-size: clamp(1.5rem, 2.8vw, var(--font-size-700));
}
h4 {
  font-size: clamp(1.25rem, 2.2vw, var(--font-size-600));
}
h5 {
  font-size: var(--font-size-500);
}
p,
li {
  font-size: var(--font-size-400);
}

a {
  color: var(--color-text);
  text-decoration: none;
}
a:hover {
  color: var(--color-heading);
}

li {
  list-style: none;
}

/* Section spacing rhythm (single source of truth) */
section {
  padding: var(--space-16) var(--space-4);
}

/* Constrain content width and center it */
#wrap {
  max-width: var(--container);
  margin: 0 auto;
  padding-inline: var(--space-4);
}

/* Section headings (support h1 or h2 headings in section blocks) */
.about-heading h1,
.projects-heading h1,
.contact-heading h1,
.intro-heading h1,
.about-heading h2,
.projects-heading h2,
.contact-heading h2,
.process-heading h2,
.capabilities-heading h2 {
  margin-bottom: var(--space-6);
}

.section-divider {
  height: 1px;
  background: var(--color-border);
  margin: var(--space-12) auto;
  width: min(90%, 720px);
  border: 0;
}

/* FOOTER baseline */
.site-footer {
  margin-top: auto;
  padding: var(--space-6) var(--space-4);
  border-top: 1px solid var(--color-border);
  background: linear-gradient(180deg, var(--color-bg-alt), var(--color-bg));
  text-align: center;
}

.copyright {
  font-weight: 600;
  color: var(--color-heading);
}

.copyright a {
  color: var(--color-accent);
  text-decoration: none;
  transition: color 0.2s ease;
}

.copyright a:hover,
.copyright a:focus-visible {
  color: var(--color-heading);
}

.footer-sub {
  color: var(--color-muted);
  font-size: 0.95em;
  white-space: nowrap;
}

.logo {
  margin-top: -15px;
}

/* Safe default: visible if JS doesn’t run */
.fade-in {
  opacity: 1;
  transform: none;
}

/* Animate only when users allow motion */
@media (prefers-reduced-motion: no-preference) {
  .fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 500ms ease-out, transform 500ms ease-out;
    will-change: opacity, transform;
  }
  .fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }
}

/* =======================================================================
   NAVIGATION
   ======================================================================= */

/* Sticky region */
.navigation {
  margin: 0;
  padding: 0;
  position: sticky;
  top: 0;
  z-index: 1000;
}

/* Navbar container */
.navbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-6);
  padding: var(--space-4) var(--space-6);
  background: color-mix(in srgb, var(--color-bg) 85%, transparent);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid var(--color-border);
}

.navbar.scrolled {
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.25);
  border-bottom-color: rgba(58, 51, 66, 0.7);
}

/* Center title with flanking ravens */
.navbar-title {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-3);
  text-align: center;
  font-size: clamp(1.25rem, 2.5vw, var(--font-size-700));
  font-weight: 700;
  color: var(--color-heading);
  user-select: none;
}

.navbar-title span {
  white-space: nowrap;
}

.raven-icon {
  height: 28px;
  width: auto;
  filter: brightness(0) invert(1) drop-shadow(0 0 0 rgba(163, 29, 47, 0));
  opacity: 0.9;
  transition: filter 200ms ease, transform 200ms ease;
}

.raven-icon.left {
  transform: scaleX(-1);
}

.raven-icon:hover,
.navbar-title:hover .raven-icon {
  filter: brightness(0) invert(1) drop-shadow(0 0 10px rgba(163, 29, 47, 0.6));
  transform: translateY(-1px);
}

@media (prefers-reduced-motion: reduce) {
  .raven-icon:hover,
  .navbar-title:hover .raven-icon {
    transform: none;
  }
}

@media (max-width: 768px) {
  .navbar-title .raven-icon {
    display: none;
  }
}

.raven-icon {
  transition: transform 0.4s ease, filter 0.4s ease;
}

.navbar-title:hover .raven-icon.left {
  transform: scaleX(1);
  filter: brightness(0) invert(1) drop-shadow(0 0 10px rgba(163, 29, 47, 0.6));
}

.navbar-title:hover .raven-icon.right {
  transform: scaleX(-1);
  filter: brightness(0) invert(1) drop-shadow(0 0 10px rgba(163, 29, 47, 0.6));
}

/* Logo image sizing */
.logo-img {
  height: clamp(100px, 15.6vh, 150px);
  width: auto;
  display: block;
  filter: brightness(0) invert(1) drop-shadow(0 0 4px rgba(0, 0, 0, 0.6));
}

/* Nav list */
.nav-links {
  display: flex;
  gap: var(--space-6);
  list-style: none;
  margin: 0;
  padding: 0;
}

.nav-links a {
  color: var(--color-text);
  font-size: var(--font-size-400);
  font-weight: 700;
  text-decoration: none;
  position: relative;
  padding-block: 2px;
}

.nav-links a:hover,
.nav-links a:focus-visible {
  color: var(--color-heading);
}

.nav-links a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -6px;
  height: 2px;
  width: 0%;
  background: var(--color-accent);
  transition: width 220ms ease;
}

.nav-links a:hover::after,
.nav-links a:focus-visible::after {
  width: 100%;
}

.nav-links a.active {
  color: var(--color-heading);
}
.nav-links a.active::after {
  width: 100%;
}

/* Checkbox hack: nav toggle only */
.nav-toggle {
  position: absolute;
  inline-size: 1px;
  block-size: 1px;
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  overflow: hidden;
  white-space: nowrap;
  border: 0;
  padding: 0;
  margin: -1px;
}

/* Hamburger */
.hamburger {
  display: none;
  font-size: 28px;
  line-height: 1;
  cursor: pointer;
  padding: var(--space-2) var(--space-3);
  border-radius: 8px;
}

.hamburger:focus-visible {
  background: color-mix(in srgb, var(--color-accent) 20%, transparent);
}

/* Mobile nav */
@media (max-width: 768px) {
  .hamburger {
    display: block;
  }

  .nav-links {
    display: grid;
    gap: var(--space-4);
    position: absolute;
    left: 0;
    right: 0;
    top: 100%;
    padding: var(--space-6);
    background: color-mix(in srgb, var(--color-bg) 94%, transparent);
    border-bottom: 1px solid var(--color-border);
    transform-origin: top;
    transform: scaleY(0.9);
    opacity: 0;
    pointer-events: none;
    transition: transform 180ms ease, opacity 180ms ease;
  }

  .nav-toggle:checked ~ .nav-links {
    opacity: 1;
    transform: scaleY(1);
    pointer-events: auto;
  }

  .nav-links a {
    font-size: var(--font-size-500);
    padding-block: var(--space-1);
  }
}

/* =======================================================================
   SOCIAL SIDEBAR
   ======================================================================= */

.s-media {
  position: fixed;
  top: 250px;
  left: 0;
  z-index: 2001;
  transition: transform 180ms ease;
}

.s-media a:first-child {
  border-radius: 0 5px 0 0;
}

.s-media a:last-child {
  border-radius: 0 0 5px 0;
}

.s-item {
  display: block;
  width: var(--sidebar-w, 60px);
  height: var(--sidebar-w, 60px);
  color: #1e3050;
  font-size: calc(var(--sidebar-w, 60px) * 0.42);
  line-height: var(--sidebar-w, 60px);
  text-align: center;
  transition: all linear 0.2s;
  box-shadow: none;
  background: rgba(255, 255, 255, 0.02);
  border-right: 1px solid var(--color-border);
}

.s-item:hover {
  transform: translateX(2px) scale(1.05);
}

.sidebar {
  position: relative;
  z-index: 2000;
}

.sidebar.is-collapsed .s-media {
  transform: translateX(calc(-1 * var(--sidebar-w, 60px)));
}
.sidebar .s-media {
  transition: transform 180ms ease;
}

.sidebar.is-collapsed #sm-open {
  opacity: 1;
  pointer-events: auto;
  transform: translateX(0);
}
#sm-open {
  left: 0;
  transition: transform 180ms ease, opacity 120ms ease;
}

@media (prefers-reduced-motion: reduce) {
  .sidebar .s-media,
  #sm-open {
    transition: none;
  }
}

.facebook:hover {
  box-shadow: 0 8px 22px rgba(24, 119, 242, 0.35);
  color: var(--brand-fb);
}
.github:hover {
  box-shadow: 0 8px 22px rgba(201, 209, 217, 0.25);
  color: var(--brand-gh);
}
.linkedin:hover {
  box-shadow: 0 8px 22px rgba(10, 102, 194, 0.35);
  color: var(--brand-li);
}
.email:hover {
  box-shadow: 0 8px 22px rgba(163, 29, 47, 0.35);
  color: var(--brand-mail);
}

.s-item:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
  border-radius: 8px;
}

#sm-open {
  position: fixed;
  top: 200px;
  left: 0;
  border-radius: 0 30px 30px 0;
  transition: transform 180ms ease, opacity 120ms ease;
  z-index: 2002;
  opacity: 0;
  pointer-events: none;
}

.wrap {
  margin-left: 0;
}

@media (min-width: 640px) {
  .sidebar:not(.is-collapsed) + .wrap {
    margin-left: calc(var(--sidebar-w) + var(--sidebar-gap));
  }
}

@media (max-width: 480px) {
  .sidebar .s-media {
    transform: translateX(calc(-1 * var(--sidebar-w, 60px)));
  }

  .sidebar:not(.is-collapsed) .s-media {
    transform: translateX(0);
  }

  .sidebar.is-collapsed #sm-open {
    opacity: 1;
    pointer-events: auto;
    transform: translateX(0);
  }

  .sidebar:not(.is-collapsed) #sm-open {
    opacity: 0;
    pointer-events: none;
  }

  .sidebar + .wrap {
    margin-left: 0 !important;
  }
}

/* ==== HERO ==== */

.intro {
  background: var(--gradient-hero);
  border-bottom: 1px solid var(--color-border);

  max-width: var(--container);
  margin: 0 auto;

  padding: clamp(var(--space-12), 8vh, var(--space-16)) var(--space-6);

  display: grid;
  grid-template-columns: 340px 1fr;
  gap: var(--space-12);
  align-items: center;
}

/* Keep photo column calm and intentional */
.intro .photo {
  display: grid;
  place-items: center;
}

.headshot {
  width: 100%;
  max-width: 320px;
  height: auto;

  border-radius: 999px;
  border: 1px solid var(--color-border);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.45);
  object-fit: cover;
}

/* NEW: single content stack */
.intro-content {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

/* If you still have old markup, make it behave like a single stack */
.intro-heading,
.intro-text,
.intro-ctas,
.intro-note {
  justify-self: start;
}

/* Headline */
.intro h1 {
  margin: 0;
  line-height: 1.08;
  font-size: clamp(2rem, 3.2vw, 3rem);
  max-width: 24ch;
}

/* Lede (new) */
.intro-lede {
  margin: 0;
  color: var(--color-text);
  line-height: 1.55;
  font-size: 1.05rem;
  max-width: 60ch;
}

/* Old subhead (h5) supported */
.intro-text h5 {
  margin: 0;
  color: var(--color-text);
  font-size: var(--font-size-500);
  opacity: 0.95;
  max-width: 60ch;
}

/* Note */
.intro-note {
  margin: 0;
  color: var(--color-muted);
  font-size: 0.95rem;
}

/* CTA group */
.intro-ctas {
  display: flex;
  gap: var(--space-4);
  margin-top: var(--space-2);
  flex-wrap: wrap;
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: var(--space-2) var(--space-6);
  border-radius: var(--radius);
  font-weight: 700;
  letter-spacing: 0.2px;
  text-decoration: none;
  transition: transform 160ms ease, box-shadow 160ms ease, background-color 160ms ease;
  border: 1px solid transparent;
}

.btn-primary {
  color: var(--color-heading);
  border-color: var(--color-accent);
  background: color-mix(in srgb, var(--color-accent) 22%, transparent);
  box-shadow: 0 0 0 0 rgba(163, 29, 47, 0);
}
.btn-primary:hover,
.btn-primary:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 8px 22px rgba(163, 29, 47, 0.35);
}

.btn-ghost {
  color: var(--color-heading);
  border-color: var(--color-border);
  background: transparent;
}
.btn-ghost:hover,
.btn-ghost:focus-visible {
  transform: translateY(-1px);
  border-color: var(--color-heading);
}

/* Hero mobile */
@media (max-width: 820px) {
  .intro {
    grid-template-columns: 1fr;
    text-align: center;
    padding: clamp(var(--space-12), 7vh, var(--space-16)) var(--space-5);
    gap: var(--space-8);
  }

  .intro h1 {
    max-width: 22ch;
    margin-left: auto;
    margin-right: auto;
  }

  .intro-lede,
  .intro-text h5,
  .intro-note {
    margin-left: auto;
    margin-right: auto;
  }

  .intro-ctas {
    justify-content: center;
  }
}

/* =======================================================================
   SECTIONS
   ======================================================================= */

#about,
#projects,
#contact {
  text-align: center;
  margin-top: 30px;
}

#about {
  background: linear-gradient(180deg, var(--color-bg) 0%, var(--color-bg-alt) 100%);
  border-top: 1px solid var(--color-border);
  border-bottom: 1px solid var(--color-border);
  position: relative;
  overflow: clip;
}

#about::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(1200px 400px at 80% 10%, rgba(255, 255, 255, 0.03), transparent 60%),
    radial-gradient(700px 260px at 10% 80%, rgba(163, 29, 47, 0.06), transparent 60%);
  mix-blend-mode: screen;
}

#about .about-text {
  max-width: var(--container-narrow);
  margin: 0 auto;
  display: grid;
  gap: var(--space-6);
  text-wrap: pretty;
}

#about p {
  margin: 0;
}

@media (max-width: 480px) {
  #about .about-text {
    gap: var(--space-4);
  }
  .highlight-box {
    padding: var(--space-4);
  }
}

/* Highlight Box */
.highlight-box {
  max-width: 680px;
  margin: var(--space-12) auto 0;
  padding: var(--space-6);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0));
  box-shadow: 0 0 0 0 rgba(163, 29, 47, 0);
  transition: box-shadow 220ms ease, border-color 220ms ease, transform 160ms ease;
}

.highlight-box h3 {
  margin-bottom: var(--space-3);
  color: var(--color-heading);
}

.highlight-box p {
  letter-spacing: 0.2px;
  opacity: 0.95;
}

.highlight-box:hover,
.highlight-box:focus-within {
  border-color: color-mix(in srgb, var(--color-accent) 40%, var(--color-border));
}

@media (max-width: 768px) {
  .highlight-box {
    margin-top: var(--space-8);
  }
}

/* Capabilities */
.capabilities {
  padding: var(--space-16) var(--space-4);
  background: linear-gradient(180deg, var(--color-bg) 0%, var(--color-bg-alt) 100%);
  border-top: 1px solid var(--color-border);
  border-bottom: 1px solid var(--color-border);
}

.capabilities-heading {
  text-align: center;
  margin-bottom: var(--space-8);
}

.capabilities-heading h2 {
  margin: 0;
}

.capabilities-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: var(--space-6);
  max-width: var(--container);
  margin: 0 auto;
  padding: 0;
}

/* Card styling aligned with project-card language */
.capability-card {
  padding: var(--space-6);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(255,255,255,0.025), rgba(255,255,255,0));
  box-shadow: 0 8px 24px rgba(0,0,0,0.25);
  transition: transform 160ms ease, box-shadow 200ms ease, border-color 120ms ease;
}

/* Better hierarchy */
.capability-card h3 {
  margin: 0 0 var(--space-3);
  font-size: clamp(1.25rem, 2vw, 1.5rem);
  color: var(--color-heading);
  letter-spacing: 0.2px;
}

.capability-card p {
  margin: 0;
  color: var(--color-text);
  opacity: 0.95;
  line-height: 1.55;
}

.capability-card::before {
  content: "";
  display: block;
  height: 2px;
  width: 48px;
  margin-bottom: var(--space-4);
  background: color-mix(in srgb, var(--color-accent) 70%, transparent);
  border-radius: 999px;
  opacity: 0.9;
}

/* Hover/focus polish (mirrors Projects behavior) */
.capability-card:hover,
.capability-card:focus-within {
  transform: translateY(-2px);
  border-color: color-mix(in srgb, var(--color-accent) 35%, var(--color-border));
  box-shadow: 0 14px 36px rgba(163,29,47,0.18);
}

/* Mobile tuning */
@media (max-width: 480px) {
  .capabilities {
    padding: var(--space-12) var(--space-4);
  }
  .capabilities-grid {
    gap: var(--space-4);
  }
  .capability-card {
    padding: var(--space-5);
  }
}

/* Projects */
#projects {
  background: linear-gradient(180deg, var(--color-bg-alt) 0%, var(--color-bg) 100%);
  border-top: 1px solid var(--color-border);
  border-bottom: 1px solid var(--color-border);
}

.projects-grid {
  display: grid;
  grid-template-columns: minmax(320px, 720px);
  justify-content: center;
  gap: var(--space-8);
  max-width: var(--container);
  margin: 0 auto;
  padding: var(--space-8) var(--space-4);
}

@media (min-width: 860px) {
  .projects-grid {
    grid-template-columns: repeat(2, minmax(320px, 1fr));
  }
}
@media (min-width: 1120px) {
  .projects-grid {
    grid-template-columns: repeat(3, minmax(320px, 1fr));
  }
}

.project-card {
  display: grid;
  grid-template-rows: auto auto 1fr auto;
  gap: var(--space-4);
  width: 100%;
  max-width: 720px;
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0));
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25);
  overflow: clip;
  transition: transform 160ms ease, box-shadow 200ms ease, border-color 100ms ease;
}

.project-card:hover,
.project-card:focus-within {
  transform: translateY(-2px);
  border-color: color-mix(in srgb, var(--color-accent) 35%, var(--color-border));
  box-shadow: 0 14px 36px rgba(163, 29, 47, 0.18);
}

.project-card h3 {
  margin: var(--space-4) var(--space-4) 0;
  font-size: clamp(1.25rem, 2.2vw, var(--font-size-700));
  color: var(--color-heading);
}

.project-card p {
  margin: 0 var(--space-4) var(--space-4);
  opacity: 0.95;
}

.project-card img {
  display: block;
  width: 100%;
  aspect-ratio: 16 / 10;
  object-fit: contain;
  border-bottom: 1px solid var(--color-border);
  background: #0f0f12;
}

.project-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin: 0 var(--space-4) var(--space-4);
  padding: var(--space-2) var(--space-6);
  border-radius: var(--radius);
  font-weight: 700;
  letter-spacing: 0.2px;
  text-decoration: none;
  color: var(--color-heading);
  border: 1px solid var(--color-accent);
  background: color-mix(in srgb, var(--color-accent) 22%, transparent);
  transition: transform 160ms ease, box-shadow 160ms ease, background-color 160ms ease;
  box-shadow: 0 0 0 0 rgba(163, 29, 47, 0.35);
}

.project-btn:hover,
.project-btn:focus-visible {
  transform: translateY(-1px);
  box-shadow: 0 8px 22px rgba(163, 29, 47, 0.35);
}

.project-card:focus-within {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

/* Process */
/* PROCESS (polished to match Projects/Capabilities) */
.process {
  padding: var(--space-16) var(--space-4);
  background: linear-gradient(180deg, var(--color-bg-alt) 0%, var(--color-bg) 100%);
  border-top: 1px solid var(--color-border);
  border-bottom: 1px solid var(--color-border);
}

.process-heading {
  text-align: center;
  margin-bottom: var(--space-8);
}

.process-heading h2 {
  margin: 0;
}

.process-sub {
  margin-top: var(--space-3);
  color: var(--color-muted);
  max-width: 60ch;
  margin-left: auto;
  margin-right: auto;
  line-height: 1.6;
}

/* Grid becomes “cards”, not table cells */
.process-steps {
  list-style: none;
  margin: 0 auto;
  padding: 0;
  max-width: var(--container);

  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: var(--space-6);
}

/* Card */
.process-step {
  position: relative;
  padding: var(--space-6);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(255,255,255,0.025), rgba(255,255,255,0));
  box-shadow: 0 8px 24px rgba(0,0,0,0.25);
  transition: transform 160ms ease, box-shadow 200ms ease, border-color 120ms ease;
}

.process-step::before {
  content: "";
  display: block;
  height: 2px;
  width: 48px;
  margin-bottom: var(--space-4);
  background: color-mix(in srgb, var(--color-accent) 70%, transparent);
  border-radius: 999px;
  opacity: 0.9;
}


/* Hover/focus polish */
.process-step:hover,
.process-step:focus-within {
  transform: translateY(-2px);
  border-color: color-mix(in srgb, var(--color-accent) 35%, var(--color-border));
  box-shadow: 0 14px 36px rgba(163,29,47,0.18);
}

/* Step number badge (replaces the left column look) */
.step-label {
  position: absolute;
  top: var(--space-4);
  right: var(--space-4);

  font-weight: 800;
  letter-spacing: 0.08em;
  font-size: 0.9rem;

  color: var(--color-heading);
  opacity: 0.75;

  padding: 0.25rem 0.5rem;
  border-radius: 999px;
  border: 1px solid var(--color-border);
  background: color-mix(in srgb, var(--color-bg) 82%, transparent);
}

/* Step text hierarchy */
.process-step h3 {
  margin: 0 0 var(--space-3);
  font-size: clamp(1.25rem, 2vw, 1.5rem);
  color: var(--color-heading);
}

.process-step p {
  margin: 0;
  color: var(--color-text);
  opacity: 0.95;
  line-height: 1.55;
}

/* Ensure the step-body doesn't collide with the badge */
.step-body {
  padding-right: 2.25rem;
}

/* Mobile tuning */
@media (max-width: 480px) {
  .process {
    padding: var(--space-12) var(--space-4);
  }
  .process-steps {
    gap: var(--space-4);
  }
  .process-step {
    padding: var(--space-5);
  }
}


/* CONTACT */
#contact {
  background: linear-gradient(180deg, var(--color-bg) 0%, var(--color-bg-alt) 100%);
  border-top: 1px solid var(--color-border);
  border-bottom: 1px solid var(--color-border);
  text-align: center;
}

/* Contact form container */
.contact-form {
  max-width: 680px;
  margin: 0 auto;
  display: grid;
  gap: var(--space-6);
  padding: var(--space-8) var(--space-6);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0));
  box-shadow: var(--shadow-soft);
  text-align: left;
}

.field {
  display: grid;
  gap: var(--space-2);
}

.field label {
  font-weight: 700;
  color: var(--color-heading);
  font-size: var(--font-size-400);
}

.field input,
.field textarea {
  width: 100%;
  padding: var(--space-3) var(--space-4);
  border-radius: 10px;
  border: 1px solid var(--color-border);
  background: rgba(255, 255, 255, 0.02);
  color: var(--color-heading);
  font-family: var(--font-body);
  font-size: var(--font-size-400);
  line-height: 1.4;
  transition: border-color 0.2s ease, background-color 0.2s ease;
}

.field input:focus,
.field textarea:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
  border-color: var(--color-accent);
  background: rgba(255, 255, 255, 0.05);
}

.field .error {
  min-height: 1em;
  color: var(--color-accent);
  font-size: var(--font-size-300);
  opacity: 0.9;
}

#contact .btn {
  justify-self: start;
}

@media (max-width: 768px) {
  #contact .btn {
    justify-self: center;
  }
}

#contact button[disabled] {
  opacity: 0.6;
  cursor: not-allowed;
}

.submit-status {
  min-height: 1.25em;
  margin-top: var(--space-2);
  font-size: var(--font-size-300);
  color: var(--color-heading);
  opacity: 0.95;
}

/* =======================================================================
   MOBILE SPACING TUNE
   ======================================================================= */

@media (max-width: 480px) {
  section {
    padding: var(--space-12) var(--space-4);
  }

  .projects-grid {
    padding: var(--space-6) var(--space-3);
    gap: var(--space-6);
  }

  .project-card {
    gap: var(--space-3);
  }
  .project-card h3 {
    margin: var(--space-3) var(--space-3) 0;
  }
  .project-card p {
    margin: 0 var(--space-3) var(--space-3);
  }

  .contact-form {
    padding: var(--space-6) var(--space-4);
    gap: var(--space-4);
  }

  .btn {
    padding: var(--space-2) var(--space-4);
  }

  .section-divider {
    width: min(92%, 640px);
  }
}

@media (max-width: 360px) {
  .btn {
    padding: var(--space-2) var(--space-3);
  }
  .projects-grid {
    padding: var(--space-4) var(--space-2);
  }
}
